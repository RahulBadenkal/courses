---
export type SectionItem = {
    slug: string;
    name: string;
    contentType: "video" | "article"
}

export interface Section {
    id: string;
    title: string;
    subTitle?: string;
    items: SectionItem[]
}

export interface Props {
	sections: Section[],
    activeSectionItemSlug: string;
}

const { sections, activeSectionItemSlug } = Astro.props;
const activeSectionIndex = sections.findIndex((section) => section.items.find((item) => item.slug === activeSectionItemSlug))
---
<div>
    {sections.map((section) => (
        <div style="margin-bottom: 12px">
            <div>{section.title}</div>
            <>
                {section.subTitle && <div class="text-xs">{section.subTitle}</div>}
                <div class="ml-4 p-1">
                    {section.items.map((item) => (
                        <div class:list={['p-1', 'flex'].concat(activeSectionItemSlug === item.slug ? ['bg-gray-200'] : [])}>
                            <a class="w-full" href={item.slug}>{item.name}</a>
                        </div>
                        
                    ))}    
                </div>
            </>
        </div>
       
      ))}
</div>


